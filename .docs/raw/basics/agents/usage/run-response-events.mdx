---
title: Run Response Events
---

This example demonstrates how to handle different types of events during agent run streaming. It shows how to capture and process content events, tool call started events, and tool call completed events.

<Steps>

  <Step title="Create a Python file">
    ```bash
    touch run_response_events.py
    ```
  </Step>


  <Step title="Add the following code to your Python file">
    ```python run_response_events.py
    from typing import Iterator, List

    from agno.agent import (
        Agent,
        RunContentEvent,
        RunOutputEvent,
        ToolCallCompletedEvent,
        ToolCallStartedEvent,
    )
    from agno.models.anthropic import Claude
    from agno.tools.duckduckgo import DuckDuckGoTools

    agent = Agent(
        model=Claude(id="claude-sonnet-4-20250514"),
        tools=[DuckDuckGoTools()],
        markdown=True,
    )
    run_response: Iterator[RunOutputEvent] = agent.run(
        "Whats happening in USA and Canada?", stream=True
    )

    response: List[str] = []
    for chunk in run_response:
        if isinstance(chunk, RunContentEvent):
            response.append(chunk.content)  # type: ignore
        elif isinstance(chunk, ToolCallStartedEvent):
            response.append(
                f"Tool call started: {chunk.tool.tool_name} with args: {chunk.tool.tool_args}"  # type: ignore
            )
        elif isinstance(chunk, ToolCallCompletedEvent):
            response.append(
                f"Tool call completed: {chunk.tool.tool_name} with result: {chunk.tool.result}"  # type: ignore
            )

    print("\n".join(response))
    ```
  </Step>

  <Snippet file="create-venv-step.mdx" />

  <Step title="Install libraries">
    ```bash
    pip install -U agno anthropic ddgs
    ```
  </Step>

  <Step title="Export your Anthropic API key">

    <CodeGroup>

    ```bash Mac/Linux
      export ANTHROPIC_API_KEY="your_anthropic_api_key_here"
    ```

    ```bash Windows
      $Env:ANTHROPIC_API_KEY="your_anthropic_api_key_here"
    ```
    </CodeGroup>
  </Step>

  <Step title="Run Agent">
    <CodeGroup>
    ```bash Mac
    python run_response_events.py
    ```

    ```bash Windows
    python run_response_events.py
    ```
    </CodeGroup>
  </Step>

</Steps>
