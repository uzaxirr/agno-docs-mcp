---
title: Tool Call Limit
---

This example demonstrates how to use tool call limits to control the number of tool calls an agent can make. This is useful for preventing excessive API usage or limiting agent behavior in specific scenarios.

<Steps>

  <Step title="Create a Python file">
    ```bash
    touch tool_call_limit.py
    ```
  </Step>


  <Step title="Add the following code to your Python file">
    ```python tool_call_limit.py
    """
    This cookbook shows how to use tool call limit to control the number of tool calls an agent can make.
    """

    from agno.agent import Agent
    from agno.models.anthropic import Claude
    from agno.tools.duckduckgo import DuckDuckGoTools

    agent = Agent(
        model=Claude(id="claude-3-5-haiku-20241022"),
        tools=[DuckDuckGoTools(company_news=True, cache_results=True)],
        tool_call_limit=1,
    )

    # It should only call the first tool and fail to call the second tool.
    agent.print_response(
        "Find me the current price of TSLA, then after that find me the latest news about Tesla.",
        stream=True,
    )
    ```
  </Step>

  <Snippet file="create-venv-step.mdx" />

  <Step title="Install libraries">
    ```bash
    pip install -U agno anthropic ddgs
    ```
  </Step>

  <Step title="Export your Anthropic API key">

    <CodeGroup>

    ```bash Mac/Linux
      export ANTHROPIC_API_KEY="your_anthropic_api_key_here"
    ```

    ```bash Windows
      $Env:ANTHROPIC_API_KEY="your_anthropic_api_key_here"
    ```
    </CodeGroup>
  </Step>

  <Step title="Run Agent">
    <CodeGroup>
    ```bash Mac
    python tool_call_limit.py
    ```

    ```bash Windows
    python tool_call_limit.py
    ```
    </CodeGroup>
  </Step>

</Steps>
