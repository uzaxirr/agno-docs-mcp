---
title: Batch Agent as Judge
description: Evaluate multiple input/output pairs in a single batch
---

This example demonstrates batch evaluation where multiple cases are evaluated together.

<Steps>

  <Step title="Add the following code to your Python file">
    ```python agent_as_judge_batch.py
    from agno.db.sqlite import SqliteDb
    from agno.eval.agent_as_judge import AgentAsJudgeEval

    # Setup database to persist eval results
    db = SqliteDb(db_file="tmp/agent_as_judge_batch.db")

    evaluation = AgentAsJudgeEval(
        name="Customer Service Quality",
        criteria="Response should be empathetic, professional, and helpful",
        scoring_strategy="binary",  # PASS/FAIL for each case
        db=db,
    )

    result = evaluation.run(
        cases=[
            {
                "input": "My order is delayed and I'm very upset!",
                "output": "I sincerely apologize for the delay. I understand how frustrating this must be. Let me check your order status right away and see how we can make this right for you.",
            },
            {
                "input": "Can you help me with a refund?",
                "output": "Of course! I'd be happy to help with your refund. Could you please provide your order number so I can process this quickly for you?",
            },
            {
                "input": "Your product is terrible!",
                "output": "I'm sorry to hear you're disappointed. Your feedback is valuable to us. Could you share more details about what went wrong so we can improve?",
            },
        ],
        print_results=True,
    )

    print(f"Pass rate: {result.pass_rate:.1f}%")
    print(f"Passed: {sum(1 for r in result.results if r.passed)}/{len(result.results)}")

    ```
  </Step>
  <Snippet file="create-venv-step.mdx" />

  <Step title="Install libraries">
    ```bash
    pip install -U agno openai
    ```
  </Step>

  <Step title="Export your OpenAI API key">

    <CodeGroup>

    ```bash Mac/Linux
      export OPENAI_API_KEY="your_openai_api_key_here"
    ```

    ```bash Windows
      $Env:OPENAI_API_KEY="your_openai_api_key_here"
    ```
    </CodeGroup>
  </Step>

  <Step title="Run the example">
    <CodeGroup>
    ```bash Mac
    python agent_as_judge_batch.py
    ```

    ```bash Windows
    python agent_as_judge_batch.py
    ```
    </CodeGroup>
  </Step>

</Steps>
