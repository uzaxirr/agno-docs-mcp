---
title: Document Chunking
---

Document chunking is a method of splitting documents into smaller chunks based on document structure like paragraphs and sections. It analyzes natural document boundaries rather than splitting at fixed character counts. This is useful when you want to process large documents while preserving semantic meaning and context.

<Steps>

  <Step title="Create a Python file">
    ```bash
    touch document_chunking.py
    ```
  </Step>


  <Step title="Add the following code to your Python file">
    ```python document_chunking.py
    import asyncio
    from agno.agent import Agent
    from agno.knowledge.chunking.document import DocumentChunking
    from agno.knowledge.knowledge import Knowledge
    from agno.knowledge.reader.pdf_reader import PDFReader
    from agno.vectordb.pgvector import PgVector

    db_url = "postgresql+psycopg://ai:ai@localhost:5532/ai"

    knowledge = Knowledge(
        vector_db=PgVector(table_name="recipes_document_chunking", db_url=db_url),
    )

    asyncio.run(knowledge.add_content_async(
        url="https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf",
        reader=PDFReader(
            name="Document Chunking Reader",
            chunking_strategy=DocumentChunking(),
        ),
    ))

    agent = Agent(
        knowledge=knowledge,
        search_knowledge=True,
    )

    agent.print_response("How to make Thai curry?", markdown=True)
    ```
  </Step>

  <Snippet file="create-venv-step.mdx" />

  <Step title="Install libraries">
    ```bash
    pip install -U sqlalchemy psycopg pgvector agno
    ```
  </Step>

  <Snippet file="run-pgvector-step.mdx" />

  <Step title="Run the script">
    <CodeGroup>
    ```bash Mac
    python document_chunking.py
    ```

    ```bash Windows
    python document_chunking.py
    ```
    </CodeGroup>
  </Step>

</Steps>


## Document Chunking Params

<Snippet file="chunking-document.mdx" />
