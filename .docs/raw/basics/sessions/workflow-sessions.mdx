---
title: Workflow Sessions
sidebarTitle: Workflow Sessions
description: Learn how workflow sessions track multi-step pipeline executions
keywords: [sessions, workflow sessions, workflow history, workflow execution]
---


Workflow sessions track the execution history of your workflows. Unlike agent or team sessions that store conversation messages, workflow sessions store complete **workflow runs**, where each run represents a full execution of all your workflow steps from input to final output.

Think of it this way:
- **Agent/Team sessions** = conversation history (messages back and forth)
- **Workflow sessions** = execution history (complete pipeline runs with results)

## When to Use Workflow Sessions

Use workflow sessions when you need to:

- **Track workflow execution history** across multiple runs
- **Share state between steps** in a workflow (like passing data between pipeline stages)
- **Enable workflows to learn from previous runs** by accessing past inputs and outputs
- **Persist workflow results** for analysis and debugging
- **Maintain context** across multiple workflow executions

<Tip>
In most cases it is recommended to add session persistence to your workflow.
</Tip>

## How Workflow Sessions Work

When you create a workflow with a database, Agno automatically manages sessions for you:

```python
from agno.workflow import Workflow
from agno.db.sqlite import SqliteDb

workflow = Workflow(
    name="Research Pipeline",
    db=SqliteDb(db_file="workflows.db"),
    steps=[...],
)

# Each run creates or updates the workflow session
result = workflow.run(input="AI trends", session_id="session_123")
```

Each time you run the workflow, Agno:

1. Creates a unique `run_id` for this execution
2. Stores the input, output, and all step results
3. Updates the session with the new run
4. Makes the history available for future runs

### Workflow Session Structure

A workflow session stores:

```python
@dataclass
class WorkflowSession:
    session_id: str           # Unique session identifier
    user_id: str | None       # User who owns this session
    workflow_id: str | None   # Which workflow this belongs to
    workflow_name: str | None # Name of the workflow
    
    # List of all workflow runs (executions)
    runs: List[WorkflowRunOutput] | None
    
    # Session-specific data
    session_data: Dict | None    # Includes session_name, session_state
    workflow_data: Dict | None   # Workflow configuration
    metadata: Dict | None        # Custom metadata
    
    created_at: int | None    # Unix timestamp
    updated_at: int | None    # Unix timestamp
```

<Note>
Unlike agent sessions, workflow sessions don't have a `summary` field. Workflows store complete run results instead of creating summaries.
</Note>

### What Gets Stored

Each workflow run stores:

- **Input:** The data passed to `workflow.run()`
- **Output:** The final result from the workflow
- **Step results:** Output from each step in the pipeline
- **Session Data:** Execution time, status, metrics
- **Session state:** Shared data between steps (if used)

### Key Differences from Agent/Team Sessions

If you're familiar with agent or team sessions, here are the main differences:

| Feature | Agent/Team Sessions | Workflow Sessions |
|---------|-------------------|------------------|
| **What's stored** | Messages and conversation turns | Complete workflow runs with step results |
| **History type** | Message-based (chat history) | Run-based (execution history) |
| **Summaries** | Supported with `enable_session_summaries` | Not supported (stores complete runs) |
| **History format** | Messages in LLM context | Previous run results prepended to step inputs |


### Database Options

Workflow sessions require a database to persist execution history. Agno supports multiple database types:

```python
from agno.db.sqlite import SqliteDb

# Quick start - SQLite
workflow = Workflow(
    name="Research Pipeline",
    db=SqliteDb(db_file="workflows.db"),
    steps=[...],
)
```

<Card title="Database Configuration Guide" icon="database" href="/basics/database/overview">
  See all supported databases, connection options, and production recommendations
</Card>


## Workflow History

Workflow history lets workflow steps access results from previous runs. When enabled, Agno formats prior run results and prepends them to each step input so future executions can build on that context.

### Enable history for your steps

```python
from agno.workflow import Workflow
from agno.db.sqlite import SqliteDb

workflow = Workflow(
    name="Content Pipeline",
    db=SqliteDb(db_file="workflows.db"),
    steps=[...],
    add_workflow_history_to_steps=True,  # Include previous runs
    num_history_runs=5,                  # Limit how many runs to load
)
```

<Check>
Why it helps:

- **Access previous runs** instead of repeating work
- **Reference past decisions** to keep outputs consistent
- **Maintain context** across multi-run workflows
- **Build on prior results** for richer analysis
</Check>

### History format

Agno wraps past runs in a structured XML block before inserting it into each step input:

```xml
<workflow_history_context>
[Workflow Run-1]
User input: Create a blog post about AI
Workflow output: [Full output from run]

[Workflow Run-2]
User input: Write about machine learning
Workflow output: [Full output from run]
</workflow_history_context>
```

See the [workflow history implementation guide](/basics/chat-history/workflow/overview) for advanced controls, per-step overrides, and programmatic access patterns.

## Session Naming

Give your workflow sessions meaningful names for easier identification:

### Manual Naming

```python
from agno.workflow import Workflow
from agno.db.sqlite import SqliteDb

workflow = Workflow(
    name="Research Pipeline",
    db=SqliteDb(db_file="workflows.db"),
    steps=[...],
)

workflow.run(input="Analyze AI trends", session_id="session_123")
workflow.set_session_name(session_id="session_123", session_name="AI Trends Analysis Q4 2024")

# Retrieve the name
name = workflow.get_session_name(session_id="session_123")
print(name)  # "AI Trends Analysis Q4 2024"
```

### Auto-Generation

Workflow sessions can auto-generate timestamp-based names:

```python
workflow = Workflow(
    name="Research Pipeline",
    description="Automated research and analysis pipeline",
    db=SqliteDb(db_file="workflows.db"),
    steps=[...],
)

workflow.run(input="Research topic", session_id="session_123")
workflow.set_session_name(session_id="session_123", autogenerate=True)

name = workflow.get_session_name(session_id="session_123")
print(name)  # "Automated research and analysis pipel - 2024-11-19 14:30"
```

## Next Steps

Now that you understand workflow sessions, explore these features:

<CardGroup cols={2}>
  <Card title="Workflow History" icon="clock-rotate-left" href="/basics/chat-history/workflow/overview">
    Enable workflows to learn from previous runs
  </Card>
  <Card title="Session State" icon="database" href="/basics/state/workflows/overview">
    Share data between workflow steps across runs
  </Card>
  <Card title="Session Management" icon="tag" href="/basics/sessions/session-management">
    Manage session names, IDs, and organization
  </Card>
  <Card title="Conversational Workflows" icon="comments" href="/basics/workflows/conversational-workflows">
    Make workflows interactive with WorkflowAgent
  </Card>
  <Card title="Metrics" icon="chart-line" href="/basics/sessions/metrics/workflow">
    Track workflow performance and usage
  </Card>
  <Card title="Database Setup" icon="database" href="/basics/database/overview">
    Configure databases for session storage
  </Card>
</CardGroup>

## Developer Resources

- View the [Workflow schema](/reference/workflows/workflow)
- View the [WorkflowSession schema](/reference/workflows/session)
- Browse [workflow session examples](https://github.com/agno-agi/agno/tree/main/cookbook/05_workflows)
