---
title: Redshift Tools
sidebarTitle: Redshift Tools
keywords: [redshift, aws, database, sql, data warehouse]
description: This example demonstrates how to use RedshiftTools to enable an Agent to interact with Amazon Redshift data warehouses, supporting both standard and IAM authentication.
mode: wide
---

<Steps>

  <Step title="Create a Python file">
    Create a Python file and add the code below.
    ```bash
    touch redshift_tools.py
    ```
  </Step>

  <Step title="Add the following code to your Python file">
    ```python redshift_tools.py
    from agno.agent import Agent
    from agno.models.openai import OpenAIChat
    from agno.tools.redshift import RedshiftTools

    agent = Agent(
        model=OpenAIChat(id="gpt-4o"),
        tools=[
            RedshiftTools(
                iam=True,
                table_schema="public",
            )
        ],
        name="Redshift Agent",
        description="An agent that can query and analyze data in Amazon Redshift.",
        instructions=[
            "You are a data analyst assistant with access to a Redshift data warehouse.",
            "Use the available tools to list tables, describe schemas, and run SQL queries.",
            "Always inspect queries before running them to ensure they are optimized.",
            "Provide clear explanations of your findings.",
        ],
        markdown=True,
    )

    # List tables and describe one
    response = agent.run(
        "List all tables in the database and describe the schema of the sales table."
    )
    print(f"Agent Response:\n{response.content}\n")

    # Run a query
    response = agent.run(
        "Write and run a query to get the top 10 customers by total revenue."
    )
    print(f"Agent Response:\n{response.content}")
    ```
  </Step>

  <Snippet file="create-venv-step.mdx" />

  <Step title="Install libraries">
    ```bash
    pip install -U agno openai redshift-connector
    ```
  </Step>

  <Step title="Export your OpenAI API key">
    <CodeGroup>
    ```bash Mac/Linux
      export OPENAI_API_KEY="your_openai_api_key_here"
    ```

    ```bash Windows
      $Env:OPENAI_API_KEY="your_openai_api_key_here"
    ```
    </CodeGroup>
  </Step>

  <Step title="Set your Redshift connection details">
    Set your AWS credentials and Redshift connection details:
    <CodeGroup>
    ```bash Mac/Linux
      export REDSHIFT_HOST="your-cluster.abc123.us-east-1.redshift.amazonaws.com"
      export REDSHIFT_DATABASE="dev"
      export AWS_ACCESS_KEY_ID="your-access-key"
      export AWS_SECRET_ACCESS_KEY="your-secret-key"
      export AWS_SESSION_TOKEN="your-session-token"
    ```

    ```bash Windows
      $Env:REDSHIFT_HOST="your-cluster.abc123.us-east-1.redshift.amazonaws.com"
      $Env:REDSHIFT_DATABASE="dev"
      $Env:AWS_ACCESS_KEY_ID="your-access-key"
      $Env:AWS_SECRET_ACCESS_KEY="your-secret-key"
      $Env:AWS_SESSION_TOKEN="your-session-token"  # if using temporary credentials
    ```
    </CodeGroup>
  </Step>

  <Step title="Run Agent">
    <CodeGroup>
    ```bash Mac
    python redshift_tools.py
    ```

    ```bash Windows
    python redshift_tools.py
    ```
    </CodeGroup>
  </Step>

  <Step title="Find All Cookbooks">
  Explore all the available cookbooks in the Agno repository. Click the link below to view the code on GitHub:

  <Link href="https://github.com/agno-agi/agno/tree/main/cookbook/14_tools" target="_blank">
    Agno Tools Cookbooks on GitHub
  </Link>
</Step>
</Steps>
