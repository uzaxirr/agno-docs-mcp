Make sure you are in the `agent-infra-aws` directory. If you are not, run the following command:

<CodeGroup>
```bash terminal
cd agent-infra-aws
```

</CodeGroup>

Start your Agent Infra AWS using the following:

<CodeGroup>

```bash shorthand
ag infra up prd:aws
```

```bash expanded notation
ag infra up --env prd --infra aws
```

</CodeGroup>

This command will:

1. Create and push a Docker image to AWS ECR. In the directory defined by you in `InfraSettings`.
2. Create the following resources on AWS:

```bash
- AWS Secrets
- AWS Db Subnet Group
- AWS RDS Instance
- AWS Load Balancer
- AWS Target Group
- AWS Listener
- AWS ECS Cluster
- AWS ECS Service
- AWS ECS Task
- AWS ECS Task Definition
```

**Press Enter** to confirm and give a few seconds for the image to download (only the first time). Verify resources in the AWS console.

<Note>

The RDS database takes about 5 minutes to activate. You can check the status in the AWS console.

</Note>

## Stop Agent Infra on AWS

Play around with the AgentOS and stop it using:

<CodeGroup>

```bash shorthand
ag infra down prd:aws
```

```bash expanded notation
ag infra down --env prd --infra aws
```

</CodeGroup>

## Update Agent Infra AWS

Any changes you make to the codebase will be reflected in the running container. You can restart the container using:

<CodeGroup>

```bash terminal
ag infra patch --env prd --infra aws --name <resource-name>
```

</CodeGroup>

<Note>

Checkout the AWS Template managment documentation below for more information on updating resources.

</Note>
